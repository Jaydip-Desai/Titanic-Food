CREATE TABLE product (
    product_id NUMBER,
    product_name VARCHAR2(50),
    price NUMBER(10,2)
)
STORAGE (INITIAL 1K NEXT 1K MINEXTENTS 1 MAXEXTENTS 5);

INSERT INTO product VALUES (1, 'Laptop', 45000);
INSERT INTO product VALUES (2, 'Tablet', 18000);


SET SERVEROUTPUT ON
DECLARE
    l_total_blocks            NUMBER;
    l_total_bytes             NUMBER;
    l_unused_blocks           NUMBER;
    l_unused_bytes            NUMBER;
    l_last_used_extent_file_id NUMBER;
    l_last_used_extent_block_id NUMBER;
    l_last_used_block          NUMBER;
BEGIN
    DBMS_SPACE.UNUSED_SPACE (
        segment_owner             => 'SYSTEM',
        segment_name              => 'PRODUCT',
        segment_type              => 'TABLE',
        total_blocks              => l_total_blocks,
        total_bytes               => l_total_bytes,
        unused_blocks             => l_unused_blocks,
        unused_bytes              => l_unused_bytes,
        last_used_extent_file_id  => l_last_used_extent_file_id,
        last_used_extent_block_id => l_last_used_extent_block_id,
        last_used_block           => l_last_used_block
    );

    DBMS_OUTPUT.PUT_LINE('Total Blocks        : ' || l_total_blocks);
    DBMS_OUTPUT.PUT_LINE('Total Bytes         : ' || l_total_bytes);
    DBMS_OUTPUT.PUT_LINE('Unused Blocks       : ' || l_unused_blocks);
    DBMS_OUTPUT.PUT_LINE('Unused Bytes        : ' || l_unused_bytes);
    DBMS_OUTPUT.PUT_LINE('Last Used File ID   : ' || l_last_used_extent_file_id);
    DBMS_OUTPUT.PUT_LINE('Last Used Block ID  : ' || l_last_used_extent_block_id);
    DBMS_OUTPUT.PUT_LINE('Last Used Block     : ' || l_last_used_block);
END;
/



